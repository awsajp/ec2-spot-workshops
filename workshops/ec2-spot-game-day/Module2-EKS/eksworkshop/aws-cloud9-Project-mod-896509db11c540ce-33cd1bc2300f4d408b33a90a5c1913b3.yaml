Resources:
  Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      ImageId: ami-0aef863cdf380861c
      InstanceType: t3.large
      UserData: >-
        IyEvYmluL2Jhc2gKClVOSVhfVVNFUj0iZWMyLXVzZXIiClVOSVhfVVNFUl9IT01FPSIvaG9tZS9lYzItdXNlciIKRU5WSVJPTk1FTlRfUEFUSD0iL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiClVOSVhfR1JPVVA9JChpZCAtZyAtbiAiJFVOSVhfVVNFUiIpCgojIGFkZCBTU0gga2V5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkVU5JWF9VU0VSX0hPTUUiLy5zc2gKY2F0IDw8J0VPRicgPj4gIiRVTklYX1VTRVJfSE9NRSIvLnNzaC9hdXRob3JpemVkX2tleXMKIyBJbXBvcnRhbnQKIyAtLS0tLS0tLS0KIyBUaGUgZm9sbG93aW5nIHB1YmxpYyBrZXkgaXMgcmVxdWlyZWQgYnkgQ2xvdWQ5IElERQojIFJlbW92aW5nIHRoaXMga2V5IHdpbGwgbWFrZSB0aGlzIEVDMiBpbnN0YW5jZSBpbmFjY2Vzc2libGUgYnkgdGhlIElERQojCmNlcnQtYXV0aG9yaXR5IHNzaC1yc2EgQUFBQUIzTnphQzF5YzJFQUFBQURBUUFCQUFBQ0FRQ3dFaFhYUWd3bXNsa0NQcXF0RlpHMVJGNExBcmw3UWRjRTNZaHNNakkxd1BMQ1B4UGpPUUFURUlsRkxVYzMxaG1hU25lWStFOVAxT2MwMWE2T1UxckwyRzBZYWU5RDFNYmRHcGtDTmJVZU14YWJ3T3lwdVk5U092THpQK0VXSGFCQ3JqVnJXNjArN3NzNWF1OHp4UXZpcmozRU9sU2pVL1BhNDNXM0Z2dWdrT3hYeDFBQ29uSGMySFJUaXV2NWpkZWs3NEhjcC9zc0Fnd2U5ZlYrcUJUMWNXWStZdk0zYUx2cFVOdWtZOUxIOGk3aE5acElORUF1clVsdVdsSFJLcUdBamN6cCtzSkF5Nzc0ajcvM0E5UmY1c21LMThDc0RpRVpraWNkRkdMYlc5eTFwSk43ZDJOOXg4NXcyaDJQenVJdklobW0zK3Rod3dpUGhZaXJVYUFTak00aEVEcXlyMUpwM1VDazR4d0JHaWlRZXJ1dGhhSVNJTm0vVmk0MFA0VHcxUmFLTVg1WnhFeldyRHVON05JNjRkbzJ0dGR6RVdnTUlIa08zUktyWm0vdGVSZFNuVlArcWJoMXpCUVdVMEpEaVRRTGdVcFhpeWIxOStNK294ZkNURklwR0pxUEZEYWthOVZJRnVNWWtra3dtTTRjT0tSWkFSTStHajV2cWdrMnNSS0dVaGpsZFdGSXJJdGEwSFVXTWFRM003cnpWazU2T2xtazhCKzNyY054QjhTN3lSOXM3dWlPUHdab2FHOEpFWjY4eG5ScGZtSTJDUFJqSi8rUDhJUWZBWkZKUnNkZTBGL0FyTmFZOHBiWWltV3BFYXNDUzFGaDF2TXJ3dnZIYitsVzU3b0gzMitOd3B2QkJNVVB3ZE1jcUFRVDlLQkRKTGdnaXZQcU1RPT0gOTg4OTEyN2Q3NzQyNGE0M2EwMTVjODVhYTlhYjZhZjhAY2xvdWQ5LmFtYXpvbi5jb20KCgojCiMgQWRkIGFueSBhZGRpdGlvbmFsIGtleXMgYmVsb3cgdGhpcyBsaW5lCiMKCkVPRgoKIyBhbGxvdyBhdXRvbWF0aWMgc2h1dGRvd24KZWNobyAiJFVOSVhfVVNFUiAgICBBTEw9KEFMTCkgTk9QQVNTV0Q6IC9zYmluL3Bvd2Vyb2ZmLCAvc2Jpbi9yZWJvb3QsIC9zYmluL3NodXRkb3duIiA+PiAvZXRjL3N1ZG9lcnMKCmxuIC1zIC9vcHQvYzkgIiRVTklYX1VTRVJfSE9NRSIvLmM5CmNob3duIC1SICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5jOSAvb3B0L2M5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkRU5WSVJPTk1FTlRfUEFUSCIKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgZ3JlcCAiYWxpYXMgcHl0aG9uPXB5dGhvbjI3IiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjOyB0aGVuCgogICAgY2F0IDw8J0VPRicgPiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjCiMgLmJhc2hyYwoKZXhwb3J0IFBBVEg9JFBBVEg6JEhPTUUvLmxvY2FsL2JpbjokSE9NRS9iaW4KCiMgbG9hZCBudm0KZXhwb3J0IE5WTV9ESVI9IiRIT01FLy5udm0iClsgIiRCQVNIX1ZFUlNJT04iIF0gJiYgbnBtKCkgewogICAgIyBoYWNrOiBhdm9pZCBzbG93IG5wbSBzYW5pdHkgY2hlY2sgaW4gbnZtCiAgICBpZiBbICIkKiIgPT0gImNvbmZpZyBnZXQgcHJlZml4IiBdOyB0aGVuIHdoaWNoIG5vZGUgfCBzZWQgInMvYmluXC9ub2RlLy8iOwogICAgZWxzZSAkKHdoaWNoIG5wbSkgIiRAIjsgZmkKfQojIFsgLXMgIiROVk1fRElSL252bS5zaCIgXSAmJiAuICIkTlZNX0RJUi9udm0uc2giICAjIFRoaXMgbG9hZHMgbnZtCnJ2bV9zaWxlbmNlX3BhdGhfbWlzbWF0Y2hfY2hlY2tfZmxhZz0xICMgcHJldmVudCBydm0gY29tcGxhaW50cyB0aGF0IG52bSBpcyBmaXJzdCBpbiBQQVRICnVuc2V0IG5wbSAjIGVuZCBoYWNrCgoKIyBVc2VyIHNwZWNpZmljIGFsaWFzZXMgYW5kIGZ1bmN0aW9ucwphbGlhcyBweXRob249cHl0aG9uMjcKCiMgbW9kaWZpY2F0aW9ucyBuZWVkZWQgb25seSBpbiBpbnRlcmFjdGl2ZSBtb2RlCmlmIFsgIiRQUzEiICE9ICIiIF07IHRoZW4KICAgICMgU2V0IGRlZmF1bHQgZWRpdG9yIGZvciBnaXQKICAgIGdpdCBjb25maWcgLS1nbG9iYWwgY29yZS5lZGl0b3IgL3Vzci9iaW4vbmFubwoKICAgICMgVHVybiBvbiBjaGVja3dpbnNpemUKICAgIHNob3B0IC1zIGNoZWNrd2luc2l6ZQoKICAgICMga2VlcCBtb3JlIGhpc3RvcnkKICAgIHNob3B0IC1zIGhpc3RhcHBlbmQKICAgIGV4cG9ydCBISVNUU0laRT0xMDAwMDAKICAgIGV4cG9ydCBISVNURklMRVNJWkU9MTAwMDAwCiAgICBleHBvcnQgUFJPTVBUX0NPTU1BTkQ9Imhpc3RvcnkgLWE7IgoKICAgICMgU291cmNlIGZvciBHaXQgUFMxIGZ1bmN0aW9uCiAgICBpZiAhIHR5cGUgLXQgX19naXRfcHMxICYmIFsgLWUgIi91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2giIF07IHRoZW4KICAgICAgICAuIC91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2gKICAgIGZpCgogICAgIyBDbG91ZDkgZGVmYXVsdCBwcm9tcHQKICAgIF9jbG91ZDlfcHJvbXB0X3VzZXIoKSB7CiAgICAgICAgaWYgWyAiJEM5X1VTRVIiID0gcm9vdCBdOyB0aGVuCiAgICAgICAgICAgIGVjaG8gIiRVU0VSIgogICAgICAgIGVsc2UKICAgICAgICAgICAgZWNobyAiJEM5X1VTRVIiCiAgICAgICAgZmkKICAgIH0KCiAgICBQUzE9J1xbXDAzM1swMTszMm1cXSQoX2Nsb3VkOV9wcm9tcHRfdXNlcilcW1wwMzNbMDBtXF06XFtcMDMzWzAxOzM0bVxdXHdcW1wwMzNbMDBtXF0kKF9fZ2l0X3BzMSAiICglcykiIDI+L2Rldi9udWxsKSAkICcKZmkKCkVPRgoKICAgIGNob3duICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5iYXNocmMKZmkKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgWyAhIC1mICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kIF07IHRoZW4KICAgIGNhdCA8PCdFT0YnID4+ICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kCiAgICAgICAgIF9fXyAgICAgICAgX19fX19fICAgICBfX19fIF8gICAgICAgICAgICAgICAgIF8gIF9fXwogICAgICAgIC8gXCBcICAgICAgLyAvIF9fX3wgICAvIF9fX3wgfCBfX18gIF8gICBfICBfX3wgfC8gXyBcCiAgICAgICAvIF8gXCBcIC9cIC8gL1xfX18gXCAgfCB8ICAgfCB8LyBfIFx8IHwgfCB8LyBfYCB8IChfKSB8CiAgICAgIC8gX19fIFwgViAgViAvICBfX18pIHwgfCB8X19ffCB8IChfKSB8IHxffCB8IChffCB8XF9fLCB8CiAgICAgL18vICAgXF9cXy9cXy8gIHxfX19fLyAgIFxfX19ffF98XF9fXy8gXF9fLF98XF9fLF98ICAvXy8KIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKSGkgdGhlcmUhIFdlbGNvbWUgdG8gQVdTIENsb3VkOSEKClRvIGdldCBzdGFydGVkLCBjcmVhdGUgc29tZSBmaWxlcywgcGxheSB3aXRoIHRoZSB0ZXJtaW5hbCwKb3IgdmlzaXQgaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnNvbGUvY2xvdWQ5LyBmb3Igb3VyIGRvY3VtZW50YXRpb24uCgpIYXBweSBjb2RpbmchCgpFT0YKCiAgICBjaG93biAiJFVOSVhfVVNFUiI6IiRVTklYX0dST1VQIiAiJFVOSVhfVVNFUl9IT01FIi9lbnZpcm9ubWVudC9SRUFETUUubWQKZmkKCiMgRml4IGZvciBwZXJtaXNzaW9uIGVycm9yIHdoZW4gdHJ5aW5nIHRvIGNhbGwgYGdlbSBpbnN0YWxsYApjaG93biAiJFVOSVhfVVNFUiIgLVIgL3Vzci9sb2NhbC9ydm0vZ2VtcwoKI1RoaXMgc2NyaXB0IGlzIGFwcGVuZGVkIHRvIGFub3RoZXIgYmFzaCBzY3JpcHQsIHNvIGl0IGRvZXMgbm90IG5lZWQgYSBiYXNoIHNjcmlwdCBmaWxlIGhlYWRlci4KClVOSVhfVVNFUl9IT01FPSIvaG9tZS9lYzItdXNlciIKCkM5X0RJUj0kVU5JWF9VU0VSX0hPTUUvLmM5CkNPTkZJR19GSUxFX1BBVEg9IiRDOV9ESVIiL2F1dG9zaHV0ZG93bi1jb25maWd1cmF0aW9uClZGU19DSEVDS19GSUxFX1BBVEg9IiRDOV9ESVIiL3N0b3AtaWYtaW5hY3RpdmUuc2gKCmVjaG8gIlNIVVRET1dOX1RJTUVPVVQ9OTAwIiA+ICIkQ09ORklHX0ZJTEVfUEFUSCIKY2htb2QgYSt3ICIkQ09ORklHX0ZJTEVfUEFUSCIKCmVjaG8gLWUgJyMhL2Jpbi9iYXNoCnNldCAtZXVvIHBpcGVmYWlsCkNPTkZJRz0kKGNhdCAnJENPTkZJR19GSUxFX1BBVEgnKQpTSFVURE9XTl9USU1FT1VUPSR7Q09ORklHIyo9fQppZiAhIFtbICRTSFVURE9XTl9USU1FT1VUID1+IF5bMC05XSokIF1dOyB0aGVuCiAgICBlY2hvICJzaHV0ZG93biB0aW1lb3V0IGlzIGludmFsaWQiCiAgICBleGl0IDEKZmkKaXNfc2h1dHRpbmdfZG93bigpIHsKICAgIGlzX3NodXR0aW5nX2Rvd25fc3lzdGVtX2QgJj4gL2Rldi9udWxsIHx8IGlzX3NodXR0aW5nX2Rvd25faW5pdF9kICY+IC9kZXYvbnVsbAp9CmlzX3NodXR0aW5nX2Rvd25fc3lzdGVtX2QoKSB7CiAgICBsb2NhbCBUSU1FT1VUCiAgICBUSU1FT1VUPSQoYnVzY3RsIGdldC1wcm9wZXJ0eSBvcmcuZnJlZWRlc2t0b3AubG9naW4xIC9vcmcvZnJlZWRlc2t0b3AvbG9naW4xIG9yZy5mcmVlZGVza3RvcC5sb2dpbjEuTWFuYWdlciBTY2hlZHVsZWRTaHV0ZG93bikKICAgIGlmIFsgIiQ/IiAtbmUgIjAiIF07IHRoZW4KICAgICAgICByZXR1cm4gMQogICAgZmkKICAgIGlmIFsgIiQoZWNobyAkVElNRU9VVCB8IGF3ayAie3ByaW50IFwkM30iKSIgPT0gIjAiIF07IHRoZW4KICAgICAgICByZXR1cm4gMQogICAgZWxzZQogICAgICAgIHJldHVybiAwCiAgICBmaQp9CmlzX3NodXR0aW5nX2Rvd25faW5pdF9kKCkgewogICAgcGdyZXAgc2h1dGRvd24KfQppc192ZnNfY29ubmVjdGVkKCkgewogICAgcGdyZXAgdmZzLXdvcmtlciA+L2Rldi9udWxsCn0KCmlmIGlzX3NodXR0aW5nX2Rvd247IHRoZW4KICAgIGlmIFtbICEgJFNIVVRET1dOX1RJTUVPVVQgPX4gXlswLTldKyQgXV0gfHwgaXNfdmZzX2Nvbm5lY3RlZDsgdGhlbgogICAgICAgIHN1ZG8gc2h1dGRvd24gLWMKICAgIGZpCmVsc2UKICAgIGlmIFtbICRTSFVURE9XTl9USU1FT1VUID1+IF5bMC05XSskIF1dICYmICEgaXNfdmZzX2Nvbm5lY3RlZDsgdGhlbgogICAgICAgIHN1ZG8gc2h1dGRvd24gLWggJFNIVVRET1dOX1RJTUVPVVQKICAgIGZpCmZpJyA+ICIkVkZTX0NIRUNLX0ZJTEVfUEFUSCIKCmNobW9kICt4ICIkVkZTX0NIRUNLX0ZJTEVfUEFUSCIKCmVjaG8gIiogKiAqICogKiByb290ICRWRlNfQ0hFQ0tfRklMRV9QQVRIIiA+IC9ldGMvY3Jvbi5kL2M5LWF1dG9tYXRpYy1zaHV0ZG93bgo=
      Tags:
        - Key: Name
          Value: aws-cloud9-EKSLabIDE-9889127d77424a43a015c85aa9ab6af8
      NetworkInterfaces:
        - AssociatePublicIpAddress: true
          DeviceIndex: 0
          SubnetId: subnet-ecd027a4
          GroupSet:
            - !Ref InstanceSecurityGroup
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: >-
        Security group for AWS Cloud9 environment
        aws-cloud9-EKSLabIDE-9889127d77424a43a015c85aa9ab6af8
      VpcId: vpc-f0849697
      SecurityGroupIngress:
        - FromPort: 22
          ToPort: 22
          IpProtocol: tcp
          CidrIp: 13.236.82.128/27
        - FromPort: 22
          ToPort: 22
          IpProtocol: tcp
          CidrIp: 13.236.82.96/27
      Tags:
        - Key: Name
          Value: aws-cloud9-EKSLabIDE-9889127d77424a43a015c85aa9ab6af8
